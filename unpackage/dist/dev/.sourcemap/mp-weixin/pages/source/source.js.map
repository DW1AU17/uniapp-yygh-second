{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?afb9","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?db0a","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?031e","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?a82c","uni-app:///pages/source/source.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?b84a","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/customUI/pages/source/source.vue?e1fc"],"names":["createPage","Page"],"mappings":"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","file":"pages/source/source.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/source/source.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./source.vue?vue&type=template&id=1a6d4d34&\"\nvar renderjs\nimport script from \"./source.vue?vue&type=script&lang=js&\"\nexport * from \"./source.vue?vue&type=script&lang=js&\"\nimport style0 from \"./source.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/source/source.vue\"\nexport default component.exports","export * from \"-!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./source.vue?vue&type=template&id=1a6d4d34&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.sourceListDate.length\n    ? _vm.__map(_vm.sourceListDate, function(dateItem, __i1__) {\n        var $orig = _vm.__get_orig(dateItem)\n\n        var m0 = _vm.formatWeek(dateItem)\n        var m1 = _vm.formatDate(dateItem)\n        return {\n          $orig: $orig,\n          m0: m0,\n          m1: m1\n        }\n      })\n    : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.summary = !_vm.summary\n    }\n\n    _vm.e1 = function($event) {\n      _vm.visible = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.visible = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./source.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./source.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"source-page\">\r\n\t\t<view class=\"border-box\">\r\n\t\t\t<view class=\"border-box-inner\">\r\n\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t<view class=\"source-top gradient\">\r\n\t\t\t\t\t\t<view class=\"head-portrait\" v-if=\"!isInit\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image v-if=\"doctorInfo.sffLoginNum == 0\" src=\"/static/ui/0000.jpg\" lazy-load/>\r\n\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t:src=\"'https://www.zjgoshine.com:9001/resource/'+doctorInfo.sffLoginNum+'.jpg'\"\r\n\t\t\t\t\t\t\t\t\t@error=\"handleError\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"doc-name\">{{doctorInfo.sffName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"pavilion\">桐君堂 ({{doctorInfo.pavName}}) - {{doctorInfo.sffProfessionalWrapper}}</view>\r\n\t\t\t\t\t\t\t<view class=\"specialty\">\r\n\t\t\t\t\t\t\t\t<view :class=\"{'text-line2': summary}\" @tap=\"summary = !summary\">{{doctorInfo.sffSummary || ''}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 排班列表 -->\r\n\t\t\t\t\t<view class=\"source-list gradient\">\r\n\t\t\t\t\t\t<view class=\"tab\" v-if=\"sourceTab.length\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tv-for=\"item in sourceTab\" \r\n\t\t\t\t\t\t\t\t:key=\"item.depId\" \r\n\t\t\t\t\t\t\t\t:class=\"{'active': item.depId === currentTabIndex }\"\r\n\t\t\t\t\t\t\t\t@tap=\"setCurrentInfo(item)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{item.depName}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"table\">\r\n\t\t\t\t\t\t\t<view class=\"thead\">\r\n\t\t\t\t\t\t\t\t<view class=\"tr\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"left\"></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<view>上午</view>\r\n\t\t\t\t\t\t\t\t\t\t<view>下午</view>\r\n\t\t\t\t\t\t\t\t\t\t<view>夜门诊</view>\t\r\n\t\t\t\t\t\t\t\t\t</view>\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"tbody\" v-if=\"sourceListDate.length\">\r\n\t\t\t\t\t\t\t\t<view class=\"tr\" v-for=\"(dateItem) in sourceListDate\" :key=\"dateItem\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"week\">{{formatWeek(dateItem)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"date\">{{formatDate(dateItem)}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<view v-for=\"(item, index) in sourceListDetail[dateItem]\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.state !== 1 && item.numremain != 0 && !item.numberReleasedFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"appointment(dateItem, index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>总{{item.numcount}}剩{{item.numremain}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.state !== 1 && item.numremain != 0 && item.numberReleasedFlag\">即将放号</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"btn disabled\" v-else-if=\"item.state !== 1 && item.numremain == 0\">已无号源</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else class=\"nothing\">{{nothing}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"remind\">\r\n\t\t\t\t\t\t<view class=\"title\">温馨提示</view>\r\n\t\t\t\t\t\t<view class=\"single\">\r\n\t\t\t\t\t\t\t<!-- <view>1. 预约号源的统一放号时间为提前一周下午3点整</view> -->\r\n\t\t\t\t\t\t\t<view> 预约成功后的记录, 可在\"个人中心\"下\"挂号记录\"中查询</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"custom-picker\" v-if=\"visible\">\r\n\t\t\t\t\t<view class=\"mask\" @tap=\"visible = false\"></view>\r\n\t\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t\t<view class=\"btn\">\r\n\t\t\t\t\t\t\t<text class=\"fc999\" @tap=\"visible = false\">取消</text>\r\n\t\t\t\t\t\t\t<text class=\"base-color\" @tap=\"goOrderPage\">确定</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<picker-view @change=\"chooseSource\">\r\n\t\t\t\t\t\t\t<picker-view-column>\r\n\t\t\t\t\t\t\t\t<view class=\"item\" v-for=\"item in getNumList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"mr30\">{{item.visitTime}}</text>\r\n\t\t\t\t\t\t\t\t\t<text>{{item.serialNumber}}号</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker-view-column>\r\n\t\t\t\t\t\t</picker-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { getSchedulingList, getSourceList, getDoctorInfo } from '@/common/api/register.js'\r\n\timport { getWeekFromDate, getPavName } from '@/common/utils/index'\r\n\timport { mapState, mapGetters, mapMutations } from 'vuex'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tdoctorInfo: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tpavName: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tsffProfessionalWrapper: '',\r\n\t\t\t\t\tsffSummary: ''\r\n\t\t\t\t},\r\n\t\t\t\tsummary: true,\r\n\t\t\t\tisInit: true,\r\n\t\t\t\tsourceTab: [],\r\n\t\t\t\tcurrentTabIndex: '',\r\n\t\t\t\tsourceListDate: [], // 排班日期 ['20200808', '20200808']\r\n\t\t\t\tsourceListDetail: {}, // 具体明细 { '20200808': [], ''20200808'': [] }\r\n\t\t\t\tgetNumList: [], // 号源信息\r\n\t\t\t\ttotalFee: '', // 挂号费\r\n\t\t\t\tnothing: '',\r\n\t\t\t\toption: {},\r\n\t\t\t\tcurrentIndex: 0, // 当前号源序号\r\n\t\t\t}\r\n\t\t},\r\n\t    onLoad(option) {\r\n\t\t\tif (option.q != undefined) {\r\n\t\t\t\tlet resultObject = this.handleSourceOption(option.q)\r\n\t\t\t\tthis.doctorInfo = resultObject\r\n\t\t\t\tthis.option = resultObject\r\n\t\t\t} else {\r\n\t\t\t\tthis.doctorInfo = option\r\n\t\t\t\tthis.option = option\r\n\t\t\t}\r\n\t\t\tlet { orgCode, hospitalId: id } = this.option\r\n\t\t\tthis.setPavilion({ orgCode, id })\r\n\t\t\t// const eventChannel = this.getOpenerEventChannel()\r\n\t\t\t// eventChannel.on('doctorInfoFromDocPanel', (data) => {\r\n\t\t\t// \tthis.doctorInfo = data.data\r\n\t\t\t// })\r\n\t\t\tthis.getDoctorInfo()\r\n\t\t},\r\n\t\t/**\r\n\t\t * 分享页面\r\n\t\t */\r\n\t\tonShareAppMessage() {\r\n\t\t\tlet title = `${this.doctorInfo.sffName} - 桐君堂(${this.doctorInfo.pavName})`\r\n\t\t\tlet that = this\r\n\t\t\tfunction handleUrl() {\r\n\t\t\t\treturn Object.keys(that.option).reduce((prev, item, index) => {\r\n\t\t\t\t\tlet symbol = index == 0 ? '' : '&'\r\n\t\t\t\t\treturn prev + symbol + item + '=' + that.option[item]\r\n\t\t\t\t}, '')\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tpath: `/pages/source/source?${handleUrl()}`,\r\n\t\t\t\t// imageUrl: '/static/logo.jpg'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setPavilion']),\r\n\t\t\t/**\r\n\t\t\t * 获取排班\r\n\t\t\t */\r\n\t\t\tasync init() {\r\n\t\t\t\tthis.showLoging()\r\n\t\t\t\tlet { sffId: docId, sffName: docName, orgCode, hospitalId } = this.doctorInfo\r\n\t\t\t\tlet data = { docId, docName, orgCode, hospitalId }\r\n\t\t\t\tlet res = await getSchedulingList(data)\r\n\t\t\t\tif (res.code == 0 && Object.keys(res.data).length) {\r\n\t\t\t\t\tthis.handleSourceListData(res.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.nothing = '近一周都无号源'\r\n\t\t\t\t}\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取医生信息\r\n\t\t\t */\r\n\t\t\tasync getDoctorInfo() {\r\n\t\t\t\tif (this.doctorInfo != undefined) {\r\n\t\t\t\t\tlet { hospitalId, id: doctorId, orgCode } = this.doctorInfo\r\n\t\t\t\t\tlet data = { hospitalId, doctorId }\r\n\t\t\t\t\tlet res = await getDoctorInfo(data)\r\n\t\t\t\t\tlet obj = res.data || {}\r\n\t\t\t\t\tobj.orgCode = orgCode\r\n\t\t\t\t\tobj.pavName = getPavName(hospitalId)\r\n\t\t\t\t\tthis.doctorInfo = { ...this.doctorInfo, ...obj }\r\n\t\t\t\t\tthis.isInit = false\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 处理排班科室tab\r\n\t\t\t */\r\n\t\t\thandleSourceListData(data) {\r\n\t\t\t\tlet tab = []\r\n\t\t\t\tObject.keys(data).forEach(item => {\r\n\t\t\t\t\ttab.push({ \r\n\t\t\t\t\t\tdepName: item.split('-')[1], \r\n\t\t\t\t\t\tdepId: item.split('-')[0], \r\n\t\t\t\t\t\tlist: this.handleSouceItemList(data[item])\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.sourceTab = tab\r\n\t\t\t\tthis.setCurrentInfo(tab[0])\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 设置当前显示信息\r\n\t\t\t */\r\n\t\t\tsetCurrentInfo(data) {\r\n\t\t\t\tthis.currentTabIndex = data.depId\r\n\t\t\t\tthis.sourceListDetail = data.list\r\n\t\t\t\tthis.sourceListDate = Object.keys(data.list)\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 处理具体排班数据\r\n\t\t\t */\r\n\t\t\thandleSouceItemList(data) {\r\n\t\t\t\tlet baseArray = ['1', '2', '3']\r\n\t\t\t\tObject.keys(data).forEach(item => {\r\n\t\t\t\t\tlet newArr = []\r\n\t\t\t\t\tlet ampmArray = data[item].map(innerItem => innerItem.ampm)\r\n\t\t\t\t\tbaseArray.forEach((baseItem) => {\r\n\t\t\t\t\t\tif (!ampmArray.includes(baseItem)) {\r\n\t\t\t\t\t\t\tnewArr[baseItem - 1] = { ampm: baseItem, state: 1 }\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewArr[baseItem - 1] = { ...data[item].filter(ii => ii.ampm == baseItem)[0] }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tdata[item] = newArr\r\n\t\t\t\t})\r\n\t\t\t\treturn data\r\n\t\t\t},\r\n\t\t\t// 点击预约\r\n\t\t\tasync appointment(a,b) {\r\n\t\t\t\tif (!this.hasLogin) {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/auth/auth?type='\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.visible = true\r\n\t\t\t\t\tlet item = this.sourceListDetail[a][b]\r\n\t\t\t\t\tthis.showLoging()\r\n\t\t\t\t\tlet { schid: schId, orgId: orgCode, ampm } = item\r\n\t\t\t\t\tthis.totalFee = item.totalFee\r\n\t\t\t\t\tlet data = { ampm, orgCode, schId }\r\n\t\t\t\t\t// 获取号源\r\n\t\t\t\t\tlet res = await getSourceList(data)\r\n\t\t\t\t\tlet arr = res.data || []\r\n\t\t\t\t\tthis.getNumList = arr.map(item => {\r\n\t\t\t\t\t\titem.visitTime = item.visitTime.slice(0,5)\r\n\t\t\t\t\t\treturn item\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 处理url数据\r\n\t\t\t */\r\n\t\t\thandleSourceOption(obj) {\r\n\t\t\t\tlet sourceString = decodeURIComponent(obj).split('?')[1]\r\n\t\t\t\tlet optionArray = sourceString.split('&')\r\n\t\t\t\tlet resultObject = {}\r\n\t\t\t\toptionArray.forEach(item => {\r\n\t\t\t\t\tlet arr = item.split('=')\r\n\t\t\t\t\tresultObject[arr[0]] = arr[1]\r\n\t\t\t\t})\r\n\t\t\t\treturn resultObject\r\n\t\t\t},\r\n\t\t\tchooseSource(e) {\r\n\t\t\t\tthis.currentIndex = e.detail.value\r\n\t\t\t},\t\r\n\t\t\tgoOrderPage() {\r\n\t\t\t\tlet data = { ...this.getNumList[this.currentIndex], \r\n\t\t\t\t\ttotalFee: this.totalFee, \r\n\t\t\t\t\torgCode: this.doctorInfo.orgCode,\r\n\t\t\t\t\tpavName: this.doctorInfo.pavName\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/order',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tres.eventChannel.emit('orderPageAcceptData', { data })\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.visible = false\r\n\t\t\t},\r\n\t\t\tformatDate(a) {\r\n\t\t\t\treturn a.substr(4, 2) + \"-\" + a.substr(6, 2)\r\n\t\t\t},\r\n\t\t\tformatWeek(a) {\r\n\t\t\t\ta = a.substr(0, 4) + \"-\" + a.substr(4, 2) + \"-\" + a.substr(6, 2)\r\n\t\t\t\treturn getWeekFromDate(a)\r\n\t\t\t},\r\n\t\t\t// 获取星期几\r\n\t\t\tgetWhatDay(date) {\r\n\t\t\t\tdate = new Date(date)\r\n\t\t\t\tswitch(date.getDay()) {\r\n\t\t\t\t\tcase 0: return '周日'\r\n\t\t\t\t\tcase 1: return '周一'\r\n\t\t\t\t\tcase 2: return '周二'\r\n\t\t\t\t\tcase 3: return '周三'\r\n\t\t\t\t\tcase 4: return '周四'\r\n\t\t\t\t\tcase 5: return '周五'\r\n\t\t\t\t\tcase 6: return '周六'\r\n\t\t\t\t\tdefault: return ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleError(e) {\r\n\t\t\t\tthis.doctorInfo.sffLoginNum = '0000'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t$color-level2: #666;\r\n\t.source-page {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\theight: calc(100% - 40rpx);\r\n\t\toverflow: auto;\r\n\t\t.border-box {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t.border-box-inner {\r\n\t\t\t\t.main {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\toverflow: auto;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.source-top {\r\n\t\tdisplay: flex;\r\n\t\t.head-portrait {\r\n\t\t\ttext-align: center;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 20rpx 34rpx;\r\n\t\t\timage {\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t\theight: 160rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tborder: 1px solid $s-color;\r\n\t\t\t}\r\n\t\t\t.doc-name {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t}\r\n\t\t\t.pavilion {\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\t\t\t.specialty {\r\n\t\t\t\tmargin-top: 24rpx;\r\n\t\t\t\tline-height: 1.6;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\ttext-indent: 52rpx;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.source-list {\r\n\t\theight: auto;\r\n\t\tpadding: 15rpx 34rpx 0 34rpx;\r\n\t\t.tab {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-shrink:0;\r\n\t\t\tline-height: 46rpx;\r\n\t\t\toverflow-x: auto;\r\n\t\t\t>view {\r\n\t\t\t\tmargin-right: 15px;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tcolor: $s-color;\r\n\t\t\t\t\tborder-bottom: 4rpx solid $s-color;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.table {\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-size: 15px;\r\n\t\t\tcolor: $color-shallow;\r\n\t\t\tposition: relative;\r\n\t\t\t.model {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbackground-color: yellow;\r\n\t\t\t\tz-index: 9;\r\n\t\t\t}\r\n\t\t\t.thead {\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t\t.tbody {\r\n\t\t\t\t.tr {\r\n\t\t\t\t\tpadding: 10rpx 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.thead,\r\n\t\t\t.tbody {\r\n\t\t\t\t.tr {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tborder-bottom: 1px solid #eeedeb;\r\n\t\t\t\t\t.left {\r\n\t\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.right {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tline-height: 78rpx;\r\n\t\t\t\t\t\t>view {\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\twidth: 33%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.btn {\r\n\t\t\t\t\t\t\tborder: 1px solid $s-color;\r\n\t\t\t\t\t\t\tcolor: $s-color;\r\n\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\t\t\t&.disabled {\r\n\t\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t\t\tcolor: #ccc;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.nothing {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tcolor: $title-color;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.source-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 10px 0;\r\n\t\t\tborder-bottom: 1px solid #ccc;\r\n\t\t\t.left {\r\n\t\t\t\tline-height: 1.5;\r\n\t\t\t}\r\n\t\t\t.right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbutton {\r\n\t\t\t\t\tmargin: 0 0 0 22px;\r\n\t\t\t\t\tpadding: 2px 13px;\r\n\t\t\t\t\tline-height: 2;\r\n\t\t\t\t\tbackground-color: tomato;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\t\t\t\t.money {}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.remind {\r\n\t\tpadding: 20rpx 34rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\t.title {\r\n\t\t\tcolor: $title-color;\r\n\t\t}\r\n\t\t.single {\r\n\t\t\tcolor: $grey-color;\r\n\t\t}\r\n\t}\r\n\t.custom-picker {\r\n\t\tposition: fixed!important;\r\n\t\tbottom: 0;\r\n\t\tz-index: 999;\r\n\t\tright: 0;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\t.mask {\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: rgba(0,0,0,0.3);\r\n\t\t}\r\n\t\t.footer {\r\n\t\t\tposition: absolute;\r\n\t\t\theight: 550rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t.btn {\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\t\t\tpicker-view {\r\n\t\t\t\theight: 470rpx;\r\n\t\t\t\t.item {\r\n\t\t\t\t    line-height: 70rpx;\r\n\t\t\t\t    text-align: center;\r\n\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t.mr30 {\r\n\t\t\t\t\t\tmargin-right: 60rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n</style>\r\n","import mod from \"-!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./source.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hb\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./source.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1615368588226\n      var cssReload = require(\"E:/hb/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}