(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-patientManage-index"],{"2eaa":function(t,e,a){"use strict";a.r(e);var i=a("5079"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"4d46":function(t,e,a){t.exports=a.p+"static/img/pic.a16a83b4.jpg"},5079:function(t,e,a){"use strict";var i=a("4ea4");a("4de4"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("96cf");var r=i(a("1da1")),o=a("a316"),s=a("2f62"),d={data:function(){return{type:"",idCard:"",eventChannel:""}},onLoad:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.type,e.eventChannel=e.getOpenerEventChannel(),n=e.patientInfo.idCard,e.idCard=n,e.type=i;case 5:case"end":return a.stop()}}),a)})))()},onShow:function(){this.getPatientList()},computed:(0,n.default)({},(0,s.mapState)(["patientInfo","patientList"])),methods:(0,n.default)((0,n.default)({},(0,s.mapMutations)(["deletePatient","setDefaultPatToList","setPatientList"])),{},{getPatientList:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoging(),e.next=3,(0,o.getPatientList)({userId:t.patientInfo.id});case 3:a=e.sent,0===a.code&&t.setPatientList(a.data),uni.hideLoading();case 6:case"end":return e.stop()}}),e)})))()},delPatient:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.userId,n=t.patientId,s=e,uni.showModal({title:"确定要解绑就诊人?",success:function(t){return(0,r.default)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.confirm){e.next=6;break}return a={userId:i,patientId:n,handlerType:"2"},e.next=4,(0,o.removePatient)(a);case 4:r=e.sent,0==r.code&&(s.successAlert("删除成功"),s.deletePatient({userId:i}));case 6:case"end":return e.stop()}}),e)})))()}});case 3:case"end":return a.stop()}}),a)})))()},setDefaultPatient:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.id,n={userId:e.patientInfo.id,relationId:i},a.next=4,(0,o.setDefaultPatient)(n);case 4:r=a.sent,0===r.code&&(e.showLoging(),s=e.patientList.filter((function(t){return"1"===t.defaultSign})),e.setDefaultPatToList({prevId:s.length?s[0].id:"",currId:i}),uni.hideLoading(),e.successAlert("设置成功"));case 6:case"end":return a.stop()}}),a)})))()},choosePatient:function(t){"mine"!=this.type&&(this.eventChannel.emit("getChoosePatientFromPatientManagePage",t),uni.navigateBack())},goAddPage:function(){5===this.patientList.length?this.errorAlert("最多5位就诊人"):uni.navigateTo({url:"/pages/register/register"})},editPatientInfo:function(t){uni.navigateTo({url:"/pages/register/register",success:function(e){e.eventChannel.emit("editPatientInfoFromManagePage",t)}})}})};e.default=d},"6fed":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 阴影色 */\n/* 边框色 */\n/* 圆角尺寸 */\n/* 背景色 */\n/* 面板相关字体 */.patient-page[data-v-4f5e3e08]{padding:10px}.patient-page .common-detail[data-v-4f5e3e08]{border:1px solid #ccc;background:#fff;-webkit-border-radius:6px;border-radius:6px;margin-bottom:10px}.patient-page .common-detail .header[data-v-4f5e3e08]{height:35px;line-height:35px;color:#fff;font-weight:700;font-size:18px;text-align:center;-webkit-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;letter-spacing:4px;opacity:.9;text-shadow:3px 2px 3px #000;position:relative;overflow:hidden}.patient-page .common-detail .header uni-image[data-v-4f5e3e08]{position:absolute;width:100%;left:0;bottom:0;z-index:-9}.patient-page .common-detail .top[data-v-4f5e3e08]{padding:10px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:16px}.patient-page .common-detail .top .det-left[data-v-4f5e3e08]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.patient-page .common-detail .top .det-left .item[data-v-4f5e3e08]{display:-webkit-box;display:-webkit-flex;display:flex}.patient-page .common-detail .top .det-left .item .left[data-v-4f5e3e08]{width:70px;color:#6a6a6a}.patient-page .common-detail .top .det-left .item .right[data-v-4f5e3e08]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.patient-page .common-detail .bottom[data-v-4f5e3e08]{text-align:right;margin-bottom:10px;height:30px}.patient-page .common-detail .bottom > uni-view[data-v-4f5e3e08]{display:inline-block}.patient-page .common-detail .bottom .btn[data-v-4f5e3e08]{border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;padding:0 10px;color:#666;margin-right:10px}.patient-page .common-detail .bottom .switch[data-v-4f5e3e08]{float:left}.patient-page .common-detail .bottom .switch uni-switch[data-v-4f5e3e08]{-webkit-transform:scale(.7);transform:scale(.7)}.patient-page .common-detail .bottom .switch uni-radio[data-v-4f5e3e08]{-webkit-transform:scale(.8);transform:scale(.8);margin-left:7px}.patient-page .footer uni-button[data-v-4f5e3e08]{background-color:#d36e68;color:#fff;line-height:2.2}',""]),t.exports=e},"750a":function(t,e,a){"use strict";var i=a("9d16"),n=a.n(i);n.a},"9d16":function(t,e,a){var i=a("6fed");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("137ee8ce",i,!0,{sourceMap:!1,shadowMode:!1})},b022:function(t,e,a){"use strict";a.r(e);var i=a("d0a1"),n=a("2eaa");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("750a");var o,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4f5e3e08",null,!1,i["a"],o);e["default"]=d.exports},d0a1:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"patient-page"},[i("v-uni-view",t._l(t.patientList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"common-detail"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-image",{attrs:{src:a("4d46").replace(/^\./,""),mode:"widthFix"}}),i("v-uni-text",[t._v("桐君堂中医门诊部")])],1),i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{staticClass:"det-left",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.choosePatient(e)}}},[i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"left"},[t._v("姓名")]),i("v-uni-text",{staticClass:"right fwb"},[t._v(t._s(e.patName))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"left"},[t._v("电话")]),i("v-uni-text",{staticClass:"right"},[t._v(t._s(e.phoneNumber))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"left"},[t._v("身份证")]),i("v-uni-text",{staticClass:"right"},[t._v(t._s(e.idCard))])],1)],1),i("v-uni-view",{staticClass:"det-right"})],1),i("v-uni-view",{staticClass:"bottom"},[e.idCard!=t.idCard?i("v-uni-view",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.delPatient(e)}}},[t._v("解绑")]):t._e(),i("v-uni-view",{staticClass:"switch"},[i("v-uni-radio",{attrs:{checked:"1"===e.defaultSign},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),"1"!==e.defaultSign&&t.setDefaultPatient(e)}}}),i("v-uni-text",{staticClass:"fs15 fc666"},[t._v("默认就诊人")])],1)],1)],1)})),1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goAddPage.apply(void 0,arguments)}}},[t._v("添加就诊人"),i("v-uni-text",{staticClass:"fs16"},[t._v("(最多5位)")])],1)],1)],1)},r=[]}}]);