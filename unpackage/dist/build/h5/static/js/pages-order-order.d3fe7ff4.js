(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"1f5a":function(t,e,i){"use strict";var a=i("eb20"),n=i.n(a);n.a},"22e6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAYAAAC0EpUuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAB+klEQVQ4y53UOWtWURDG8d9NVNDOpdM+mPQSAxYaUDQGCxewMCII0xncXgSbNILEDcsDoqiF4NKpUQstBA1+gOQLxM7ELuJGLN65ct+YBPU0F56Z+Z8z5zxzq1LKBHahFRE3/ecqpYxiHK+rUsonbMzYOC5ExMI/wCpcRiul2S4MYy6FFm6XUrr/EtiN2w3gHIarDPbiFTZn8BmORMT8CsB1eIihlD5id0RMVY2kLQnemtI77I+Iz0sA1+MpBlKaTuAMdNWJKezAZEoDeJubWbT52wZwEjtqYAc0wbMYxIuU+vCulNKTwJ7soC/jLzCYdb9XVUo5j50Yi4gPWbwGt3As8z7hIi5hU2r3cTIivmXNNozhTVVK+Yo1+IJDEfG8YZVrOL3EO93A2dp6pZR9eIy1+FaVUk6hNv333P1e4w7Pa/u3Xq2IuNKIj2RXq1MarZYJnI2I643CoziBOxHxoKGfyW46DtS01F48yRbgap7qj+nKqxnHuZS+4GBETEC1KLk//VeP7d3c/UcjZ1V2dTylWW0/11bshGbRVu0hqP35HIcjYj6n6BH2ZWxG2/TTHZZa4mVrg79Eb0rvMYJ72J7aFPY0Tb8iNMEbtP8B/SktNPInMRQRc0vVdi0HzYJBTCw6wIT2FM0tV7ssNMHzOJAP8zO/B1b6e8EvJRrJMFYfIE4AAAAASUVORK5CYII="},"31cf":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"order-page"},[t.isloding?t._e():a("v-uni-view",{staticClass:"common-detail"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("就诊地址")]),a("v-uni-text",{staticClass:"right"},[t._v("桐君堂（环西馆）")])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("科室")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.orderInfo.depName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("医生")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.orderInfo.doctorName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("就诊时间")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.orderInfo.schedulingDate)+" "+t._s(t.orderInfo.visitTime))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("就诊序号")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.orderInfo.serialNumber)+"号")])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("挂号费用")]),a("v-uni-text",{staticClass:"right red"},[t._v(t._s(t.orderInfo.totalFee)+".00元")])],1)],1),a("v-uni-view",{staticClass:"title"},[t._v("就诊人")]),t.isloding?t._e():a("v-uni-view",{staticClass:"patient common-detail"},[t.choosePat?a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPatManagePage.apply(void 0,arguments)}}},[t._v("选择就诊人")]):a("v-uni-view",[a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("姓名")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.patientInfo.patName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("手机号")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.patientInfo.phoneNumber))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{staticClass:"left"},[t._v("身份证")]),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.patientInfo.idCard))])],1),a("v-uni-view",{staticClass:"arrow"},[a("img",{attrs:{src:i("22e6")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPatManagePage.apply(void 0,arguments)}}})])],1)],1),a("v-uni-view",[a("v-uni-button",{staticClass:"foot-button",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.commit.apply(void 0,arguments)}}},[t._v("确定")]),a("v-uni-view",{staticClass:"read"},[a("v-uni-radio",{attrs:{checked:t.checked,color:"#7F8FEF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleCheck.apply(void 0,arguments)}}}),a("v-uni-view",[t._v("我已阅读"),a("v-uni-text",{staticClass:"blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goIndexPage.apply(void 0,arguments)}}},[t._v("《预约须知》")])],1)],1)],1)],1)},r=[]},"56b9":function(t,e,i){"use strict";i.r(e);var a=i("31cf"),n=i("995b");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("1f5a");var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"16c630ee",null,!1,a["a"],o);e["default"]=c.exports},"8ca4":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getDepartmentList=r,e.getDoctorList=o,e.getSchedulingList=s,e.getSourceList=c,e.searchDoctor=u,e.getDoctorInfo=d,e.commitRegisterInfo=l,e.getRegisterList=f,e.cancelRegister=v;var n=a(i("53a3"));function r(){return(0,n.default)("getAllDeptJson")}function o(t){return(0,n.default)("getDoctorByDateJson",t)}function s(t){return(0,n.default)("getSchedulingJson",t)}function c(t){return(0,n.default)("getSchedulingSourceJson",t)}function u(t){return(0,n.default)("searchDoctorAndDeptInfo",t)}function d(t){return(0,n.default)("getSingleDoctorJson",t)}function l(t){return(0,n.default)("registered",t)}function f(t){return(0,n.default)("getAllRegistered",t)}function v(t){return(0,n.default)("cancelRegistered",t)}},"995b":function(t,e,i){"use strict";i.r(e);var a=i("d0a7"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},bf4f:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 阴影色 */\n/* 边框色 */\n/* 圆角尺寸 */\n/* 背景色 */\n/* 面板相关字体 */.order-page[data-v-16c630ee]{padding:10px;font-size:16px}.order-page .common-detail[data-v-16c630ee]{border:1px solid #ccc;background:#fff;padding:10px;-webkit-border-radius:10px;border-radius:10px;position:relative}.order-page .common-detail .item[data-v-16c630ee]{display:-webkit-box;display:-webkit-flex;display:flex}.order-page .common-detail .item .left[data-v-16c630ee]{width:85px}.order-page .common-detail .item .right[data-v-16c630ee]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.order-page .common-detail .arrow[data-v-16c630ee]{position:absolute;top:50%;-webkit-transform:translateY(-25%);transform:translateY(-25%);right:0}.order-page .common-detail .arrow img[data-v-16c630ee]{width:25px;height:18px;-webkit-transform:rotate(-90deg) translateX(50%);transform:rotate(-90deg) translateX(50%)}.order-page .title[data-v-16c630ee]{text-align:center;margin-top:10px;font-weight:700}.order-page .mind[data-v-16c630ee]{margin-top:10px;line-height:1.2;color:#444;padding:10px 10px;font-size:16px}.order-page .foot-button[data-v-16c630ee]{background-color:#7f8fef;margin-top:15px}.order-page .read[data-v-16c630ee]{text-align:center;margin-top:10px}.order-page .read uni-radio[data-v-16c630ee]{-webkit-transform:scale(.9);transform:scale(.9)}.order-page .read > uni-view[data-v-16c630ee]{display:inline-block;color:#666}.order-page .read > uni-view .blue[data-v-16c630ee]{color:#7f8fef}',""]),t.exports=e},d0a7:function(t,e,i){"use strict";var a=i("4ea4");i("4de4"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),r=a(i("5530")),o=i("8ca4"),s=i("2f62"),c={data:function(){return{orderInfo:{},patientInfo:{},choosePat:!0,telephone:"0571-87099390",isloding:!0,checked:!1}},onLoad:function(){var t=this,e=this.getOpenerEventChannel();e.on("orderPageAcceptData",(function(e){t.orderInfo=e.data})),this.getDefaultPatient()},computed:(0,r.default)((0,r.default)({},(0,s.mapState)(["patientList","hasLogin"])),(0,s.mapGetters)(["orgCode"])),methods:{goIndexPage:function(){this.checked=!0,uni.navigateTo({url:"/pages/index/index"})},toggleCheck:function(){this.checked=!this.checked},getDefaultPatient:function(){if(this.showLoging(),this.patientList.length){this.choosePat=!1;var t=this.patientList.filter((function(t){return"1"===t.defaultSign}));this.patientInfo=t.length?t[0]:this.patientList[0]}this.isloding=!1,uni.hideLoading()},commit:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,a,n,r,s,c,u,d,l,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checked){e.next=2;break}return e.abrupt("return",t.errorAlert("请先阅读并勾上预约须知"));case 2:if(!t.isLogin()){e.next=17;break}if(i=t.orderInfo,a=i.timeState,n=i.id,r=i.schedulingId,s=i.schedulingDate,c=t.patientInfo,u=c.platfromId,d=c.idCard,Object.keys(t.patientInfo).length){e.next=9;break}return e.abrupt("return",t.errorAlert("请选择就诊人"));case 9:if(u){e.next=11;break}return e.abrupt("return",t.errorAlert("患者信息有误请联系馆里人员"));case 11:return l=t.orderInfo.orgCode||t.orgCode,f={numId:n,orgCode:l,ampm:a,regId:n,patId:u,schId:r,visitDate:s,idCard:d},e.next=15,(0,o.commitRegisterInfo)(f);case 15:v=e.sent,0==v.code&&(t.successAlert("预约成功"),setTimeout((function(){uni.switchTab({url:"/pages/tabBar/mine/mine"})}),1e3));case 17:case"end":return e.stop()}}),e)})))()},callPhone:function(){uni.makePhoneCall({phoneNumber:this.telephone})},goPatManagePage:function(){var t=this;this.isLogin()&&uni.navigateTo({url:"/pages/patientManage/index?type=order",events:{getChoosePatientFromPatientManagePage:function(e){t.patientInfo=e}}})},isLogin:function(){return!!this.hasLogin||(uni.navigateTo({url:"/pages/login/login"}),!1)}}};e.default=c},eb20:function(t,e,i){var a=i("bf4f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("c2de21ea",a,!0,{sourceMap:!1,shadowMode:!1})}}]);